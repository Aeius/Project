<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.itwillbs.mapper.AdminMapper">

	<insert id="insertProduct">
		insert into product(
		product_name,
		product_category,
		product_detail1,
		product_detail2,
		product_main_image,
		product_detail_image,
		product_price,
		product_size,
		product_stock,
		)
		values(
		#{product_name},
		#{product_category},
		#{product_detail1},
		#{product_detail2},
		#{product_main_image},
		#{product_detail_image},
		#{product_price},
		#{product_size},
		#{product_stock}
		)
	</insert>

	<insert id="insertNotice">
		insert into notice
		values
		(
		#{notice_idx},
		#{notice_name},
		#{notice_subject},
		#{notice_content},
		#{notice_file_original},
		#{notice_file_real},
		#{notice_readcount},
		now()
		)
	</insert>

	<select id="getNoticeList"
		resultType="com.itwillbs.domain.NoticeBean">
		select * from notice
	</select>

	<delete id="deleteNotice">
		delete from notice where notice_idx=#{notice_idx}
	</delete>

	<select id="getNotice"
		resultType="com.itwillbs.domain.NoticeBean">
		select notice_subject, notice_content, notice_idx from
		notice where notice_idx = #{notice_idx}
	</select>

	<update id="noticeUpdate">
		update notice set notice_subject=#{notice_subject},
		notice_content=#{notice_content} where notice_idx = #{notice_idx}
	</update>

	<select id="getReviewList"
		resultType="com.itwillbs.domain.ReviewBean">
		select review_idx, review_content, review_email, p.product_name as "product_name" 
		from review r join product p on r.review_product_idx = p.product_idx
	</select>
	
	<delete id="deleteReview">
		delete from review where review_idx=#{review_idx}
	</delete>
	
	<select id="getCouponList"
		resultType="com.itwillbs.domain.CouponBean">
		select * from coupon
	</select>

</mapper>





